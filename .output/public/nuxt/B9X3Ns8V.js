import{m as G,a as Ve,b as F,c as be,I as we,u as Ce,d as se,M as xe,e as Se,V as ke,f as _e,g as J,h as he,i as Ee,j as Le,k as N,l as D,n as Y,o as Q,p as _,q as O,r as X,s as Pe,t as Me,v as Ae,w as Ne}from"./CcC0KnAE.js";import{p as B,m as I,u as oe,n as $e,q as je,b as a,r as P,h as Te,I as Be,g as Z,s as Ie,v as j,x as Re,y as R,z as H,A as re,B as T,C as De,D as Oe,o as L,E as $,w as n,a as x,d as v,t as b,F as u,c as U,G as Ue,H as ee,J as ze,K as z,L as Ge}from"./BpPnChYA.js";import{_ as Fe}from"./DlAUqK2U.js";const He=B({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...G(),...Ve(),...F(),...be({transition:"fade-transition"})},"MyLazy"),Ke=I()({name:"MyLazy",directives:{intersect:we},props:He(),emits:{"update:modelValue":e=>!0},setup(e,{slots:r}){const{dimensionStyles:l}=Ce(e),o=oe(e,"modelValue");function s(c){o.value=c}return se(()=>$e(a(e.tag,{class:["my-lazy",e.class],style:[l.value,e.style]},{default:()=>[o.value&&a(xe,{transition:e.transition,appear:!0},{default:()=>{var c;return[(c=r.default)==null?void 0:c.call(r)]}})]}),[[je("intersect"),{handler:s,options:e.options},null]])),{}}}),We=B({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Se({origin:"center center",scrollStrategy:"block",transition:{component:ke},zIndex:2400})},"VDialog"),qe=I()({name:"VDialog",props:We(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,r){let{emit:l,slots:o}=r;const s=oe(e,"modelValue"),{scopeId:c}=_e(),d=P();function g(m){var C,E;const V=m.relatedTarget,h=m.target;if(V!==h&&((C=d.value)!=null&&C.contentEl)&&((E=d.value)!=null&&E.globalTop)&&![document,d.value.contentEl].includes(h)&&!d.value.contentEl.contains(h)){const f=Re(d.value.contentEl);if(!f.length)return;const t=f[0],p=f[f.length-1];V===t?p.focus():t.focus()}}Te(()=>{document.removeEventListener("focusin",g)}),Be&&Z(()=>s.value&&e.retainFocus,m=>{m?document.addEventListener("focusin",g):document.removeEventListener("focusin",g)},{immediate:!0});function w(){var m;l("afterEnter"),(m=d.value)!=null&&m.contentEl&&!d.value.contentEl.contains(document.activeElement)&&d.value.contentEl.focus({preventScroll:!0})}function y(){l("afterLeave")}return Z(s,async m=>{var V;m||(await Ie(),(V=d.value.activatorEl)==null||V.focus({preventScroll:!0}))}),se(()=>{const m=J.filterProps(e),V=j({"aria-haspopup":"dialog"},e.activatorProps),h=j({tabindex:-1},e.contentProps);return a(J,j({ref:d,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},m,{modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,"aria-modal":"true",activatorProps:V,contentProps:h,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:w,onAfterLeave:y},c),{activator:o.activator,default:function(){for(var C=arguments.length,E=new Array(C),f=0;f<C;f++)E[f]=arguments[f];return a(he,{root:"VDialog"},{default:()=>{var t;return[(t=o.default)==null?void 0:t.call(o,...E)]}})}})}),Ee({},d)}}),ie=R.reduce((e,r)=>(e[r]={type:[Boolean,String,Number],default:!1},e),{}),ue=R.reduce((e,r)=>{const l="offset"+H(r);return e[l]={type:[String,Number],default:null},e},{}),ce=R.reduce((e,r)=>{const l="order"+H(r);return e[l]={type:[String,Number],default:null},e},{}),te={col:Object.keys(ie),offset:Object.keys(ue),order:Object.keys(ce)};function Je(e,r,l){let o=e;if(!(l==null||l===!1)){if(r){const s=r.replace(e,"");o+=`-${s}`}return e==="col"&&(o="v-"+o),e==="col"&&(l===""||l===!0)||(o+=`-${l}`),o.toLowerCase()}}const Ye=["auto","start","end","center","baseline","stretch"],Qe=B({cols:{type:[Boolean,String,Number],default:!1},...ie,offset:{type:[String,Number],default:null},...ue,order:{type:[String,Number],default:null},...ce,alignSelf:{type:String,default:null,validator:e=>Ye.includes(e)},...G(),...F()},"VCol"),ae=I()({name:"VCol",props:Qe(),setup(e,r){let{slots:l}=r;const o=re(()=>{const s=[];let c;for(c in te)te[c].forEach(g=>{const w=e[g],y=Je(c,g,w);y&&s.push(y)});const d=s.some(g=>g.startsWith("v-col-"));return s.push({"v-col":!d||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return T(e.tag,{class:[o.value,e.class],style:e.style},(s=l.default)==null?void 0:s.call(l))}}}),K=["start","end","center"],de=["space-between","space-around","space-evenly"];function W(e,r){return R.reduce((l,o)=>{const s=e+H(o);return l[s]=r(),l},{})}const Xe=[...K,"baseline","stretch"],fe=e=>Xe.includes(e),ve=W("align",()=>({type:String,default:null,validator:fe})),Ze=[...K,...de],me=e=>Ze.includes(e),ge=W("justify",()=>({type:String,default:null,validator:me})),et=[...K,...de,"stretch"],ye=e=>et.includes(e),pe=W("alignContent",()=>({type:String,default:null,validator:ye})),ne={align:Object.keys(ve),justify:Object.keys(ge),alignContent:Object.keys(pe)},tt={align:"align",justify:"justify",alignContent:"align-content"};function at(e,r,l){let o=tt[e];if(l!=null){if(r){const s=r.replace(e,"");o+=`-${s}`}return o+=`-${l}`,o.toLowerCase()}}const nt=B({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:fe},...ve,justify:{type:String,default:null,validator:me},...ge,alignContent:{type:String,default:null,validator:ye},...pe,...G(),...F()},"VRow"),le=I()({name:"VRow",props:nt(),setup(e,r){let{slots:l}=r;const o=re(()=>{const s=[];let c;for(c in ne)ne[c].forEach(d=>{const g=e[d],w=at(c,d,g);w&&s.push(w)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return T(e.tag,{class:["v-row",o.value,e.class],style:e.style},(s=l.default)==null?void 0:s.call(l))}}}),lt={class:"pb-4"},st={class:"d-flex align-center"},ot=["innerHTML"],rt={key:1},it={class:"ml-1"},ut={__name:"index",setup(e){const r=P([]);P(20);const l=P(!1),o=P(null),s=P(""),c=ze(),{uid:d,moves:g,movesState:w,movesCounts:y,userSettings:m,updateMoveState:V}=De();function h(){r.value=g.value}function C(f){const t=new RegExp("(?<=\\b)s\\d{3}[a-z]?(?=\\b)","g");let p=0;const S=[];let i;for(;(i=t.exec(f))!==null;)i.index>p&&S.push({text:f.slice(p,i.index),isMatch:!1}),S.push({text:i[0],isMatch:!0}),p=t.lastIndex;return p<f.length&&S.push({text:f.slice(p),isMatch:!1}),S}function E(f){return T(ee,null,C(f).map(t=>t.isMatch?T(_,{size:"default",variant:"flat",link:!0,class:"mx-1 mb-1",density:"compact",onClick:p=>{o.value=p.target,l.value=!0,s.value=t.text}},()=>t.text):t.text==","?"":t.text))}return h(),(f,t)=>{const p=Oe("video-player"),S=Ke;return L(),$(Me,null,{default:n(()=>[a(Pe,null,{default:n(()=>[a(Le,{fluid:""},{default:n(()=>[t[16]||(t[16]=x("h1",null,"Salsa moves",-1)),x("p",lt,[v(" Total: "+b(u(y).total),1),t[6]||(t[6]=x("br",null,null,-1)),v(" New: "+b(u(y).new),1),t[7]||(t[7]=x("br",null,null,-1)),v(" Learning: "+b(u(y).learning),1),t[8]||(t[8]=x("br",null,null,-1)),v(" Review: "+b(u(y).review),1)]),a(le,null,{default:n(()=>[a(ae,{class:"v-col-auto"},{default:n(()=>[a(N,{variant:"outlined"},{default:n(()=>[a(D,null,{default:n(()=>t[9]||(t[9]=[v(" Practice ")])),_:1}),a(Y,null,{default:n(()=>[x("div",st,[t[10]||(t[10]=v(" State: ")),a(Q,{variant:"flat",class:"ml-2",multiple:"",mandatory:"",column:"",modelValue:u(m).practiceOptions.states,"onUpdate:modelValue":[t[0]||(t[0]=i=>u(m).practiceOptions.states=i),t[1]||(t[1]=i=>u(V)([{key:"settings",value:u(m)}]))]},{default:n(()=>[a(u(_),{color:"primary",value:"new",density:"compact",filter:""},{default:n(()=>[v(" new("+b(u(y).new)+") ",1)]),_:1}),a(u(_),{color:"deep-purple-lighten-1",value:"learning",density:"compact",filter:""},{default:n(()=>[v(" learning("+b(u(y).learning)+") ",1)]),_:1}),a(u(_),{color:"success",value:"review",density:"compact",filter:""},{default:n(()=>[v(" review("+b(u(y).review)+") ",1)]),_:1})]),_:1},8,["modelValue"])])]),_:1}),a(O,{class:"justify-center"},{default:n(()=>[a(X,{to:"/practice",color:"primary",variant:"flat"},{default:n(()=>t[11]||(t[11]=[v("Go")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(le,null,{default:n(()=>[(L(!0),U(ee,null,Ue(r.value,i=>(L(),$(ae,{class:"pa-2 v-col-12 v-col-sm-6 v-col-md-4 v-col-lg-3 v-col-xl-2",key:i.sha},{default:n(()=>[a(N,{variant:"flat",class:"pa-0 ma-0"},{default:n(()=>[a(D,{class:"text-h5 text-center",id:i.move},{default:n(()=>[v(b(i.move),1)]),_:2},1032,["id"]),a(S,{class:"video-card"},{default:n(()=>[a(p,{src:`${u(c).public.mediaUrl}${i.name}`,loop:"",controls:"",autoplay:"muted",responsive:"",playbackRate:1,enableSmoothSeeking:!0,fill:"",playsinline:"",onReady:t[2]||(t[2]=k=>{k.target.player.userActive(!1)})},null,8,["src"])]),_:2},1024),i.description?(L(),$(Ae,{key:0},{default:n(()=>[a(S,null,{default:n(()=>{var k,M,A,q;return[(k=i.description)!=null&&k.text?(L(),U("p",{key:0,innerHTML:(M=i.description)==null?void 0:M.text},null,8,ot)):z("",!0),(A=i.description)!=null&&A.related?(L(),U("p",rt,[t[12]||(t[12]=x("span",{class:"text-subtitle-1"},"Related:",-1)),x("span",it,[(L(),$(Ge(E((q=i.description)==null?void 0:q.related))))])])):z("",!0)]}),_:2},1024)]),_:2},1024)):z("",!0),a(O,null,{default:n(()=>[a(S,null,{default:n(()=>[x("div",null,[a(Ne,{location:"right center",transition:"slide-x-transition",offset:6},{activator:n(({props:k})=>{var M;return[a(u(_),j({ref_for:!0},k,{color:{new:"primary",undefined:"primary",learning:"deep-purple-lighten-1",review:"success"}[(M=u(w)[`move-${i.move}`])==null?void 0:M.state],variant:"flat",density:"compact"}),{default:n(()=>{var A;return[v(b(((A=u(w)[`move-${i.move}`])==null?void 0:A.state)||"new"),1)]}),_:2},1040,["color"])]}),default:n(()=>[a(N,null,{default:n(()=>[a(Q,{variant:"flat","onUpdate:modelValue":k=>u(V)([{key:`move-${i.move}`,value:{state:k}}])},{default:n(()=>[a(u(_),{class:"bg-primary",value:"new",density:"compact"},{default:n(()=>t[13]||(t[13]=[v(" new ")])),_:1}),a(u(_),{class:"bg-deep-purple-lighten-1",value:"learning",density:"compact"},{default:n(()=>t[14]||(t[14]=[v(" learning ")])),_:1}),a(u(_),{class:"bg-success",value:"review",density:"compact"},{default:n(()=>t[15]||(t[15]=[v(" review ")])),_:1})]),_:2},1032,["onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),a(qe,{modelValue:l.value,"onUpdate:modelValue":t[5]||(t[5]=i=>l.value=i),activator:o.value,height:"100%"},{default:n(()=>[a(N,{variant:"flat",class:"pa-0 ma-0 fill-height d-flex flex-column w-100"},{default:n(()=>[a(D,{class:"text-h5 text-center"},{default:n(()=>[v(b(s.value),1)]),_:1}),a(Y,{class:"pa-0 flex-grow-1 video-card-item"},{default:n(()=>[a(p,{src:`${u(c).public.mediaUrl}${s.value}.mp4`,loop:"",controls:"",autoplay:"muted",responsive:"",playbackRate:1,enableSmoothSeeking:!0,fill:"",playsinline:"",onReady:t[3]||(t[3]=i=>i.target.player.userActive(!1))},null,8,["src"])]),_:1}),a(O,{class:"justify-center"},{default:n(()=>[a(X,{color:"primary",variant:"flat",onClick:t[4]||(t[4]=i=>l.value=!1)},{default:n(()=>t[17]||(t[17]=[v("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","activator"])]),_:1})]),_:1})}}},vt=Fe(ut,[["__scopeId","data-v-ad1ed140"]]);export{vt as default};
